(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,n,t){e.exports=t(65)},65:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(34),o=t.n(c),s=t(13),i=t.n(s),u=t(15),l=t(4),b=t(2),d=t(11),m=t(3),p=t(7),f=t.n(p),g=t(1),O=t(6),j=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return n.reduce((function(e,n){return n(e)}),e)}},h=function(e){var n={};try{n=document.cookie.length>0?Object(O.a)(Object(O.a)({},JSON.parse(document.cookie)),e):Object(O.a)({},e),document.cookie=JSON.stringify(n)}catch(t){console.log("Error setting cookies")}return n};function v(){var e=Object(b.a)(["\n  background-color: rgba(0, 0, 0, 0);\n  border: 1px solid #7e84cc;\n  padding: 0.8rem 4rem;\n  border-radius: 16px;\n  color: #7e84cc;\n  cursor: pointer;\n  margin-left: auto;\n  font-size: 1.2rem;\n"]);return v=function(){return e},e}var k=Object(g.b)(v()),x=function(e){var n=e.btnText,t=e.setIsUserLoggedIn,a=e.setTokenState;return Object(g.c)("button",{className:"logout-button",css:k,onClick:function(){!function(e){var n=JSON.parse(document.cookie);delete n[e],console.log(n),document.cookie=JSON.stringify(n)}("token"),t(!1),a(null)}},n)};function y(){var e=Object(b.a)(["\n    background-color: #fff;\n    max-width: 1170px;\n    margin-left: auto;\n    margin-right: auto;\n    border-radius: 16px;\n    padding: 0 2rem;\n\n    @media screen and (max-width: 768px) {\n      padding-top: 8rem;\n      /* background-color: rgba(0,0,0,0); */\n      background-color: ",";\n    }\n\n    & > ul {\n      list-style: none;\n      display: flex;\n      & > li:last-of-type {\n        margin-left: auto;\n      }\n      @media screen and (max-width: 768px) {\n        display: ",";\n        flex-direction: column;\n        padding: 2rem;\n        justify-content: right;\n\n        & > li {\n          display: inline-block;\n          text-align: right;\n        }\n      }\n    }\n\n    & .logout-button {\n      margin-top: 1.3rem;\n    }\n  "]);return y=function(){return e},e}function S(){var e=Object(b.a)(["\n  position: absolute;\n  top: 2rem;\n  right: 4rem;\n  height: 5rem;\n  width: 5rem;\n  font-size: 0;\n  color: rgba(0, 0, 0, 0);\n  display: none;\n  border-radius: 16px;\n  border: 1px solid #000;\n  background-color: #fff;\n  &:after {\n    position: absolute;\n  }\n  @media screen and (max-width: 768px) {\n    display: block;\n  }\n"]);return S=function(){return e},e}function T(){var e=Object(b.a)(["\n  font-weight: 700;\n  color: #7e84cc;\n  text-decoration: none;\n  padding: 2rem;\n  padding-bottom: 1.5rem;\n  display: block;\n  border-bottom: 5px solid #fff;\n  transition: all ease-in 0.3s;\n  &:hover {\n    border-bottom-color: #b0b3df;\n  }\n\n  @media screen and (max-width: 768px) {\n    display: inline-block;\n  }\n"]);return T=function(){return e},e}function w(){var e=Object(b.a)(["\n  margin-top: 4rem;\n  margin-bottom: 4rem;\n  @media screen and (max-width: 768px) {\n    margin-top: 0;\n  }\n"]);return w=function(){return e},e}var I=Object(g.b)(w()),E=Object(g.b)(T()),C=Object(g.b)(S()),L=function(e){var n=e.setIsUserLoggedIn,t=e.setTokenState,r=Object(a.useState)(!1),c=Object(l.a)(r,2),o=c[0],s=c[1],i=Object(g.b)(y(),o?"#ffffff":"rgba(0,0,0,0);",o?"flex":"none");return Object(g.c)("header",{css:I},Object(g.c)("nav",{css:i},Object(g.c)("button",{onClick:function(){s(!o),console.log(o)},css:C},Object(g.c)("img",{src:"navbar/icons8-menu.svg"})),Object(g.c)("ul",null,Object(g.c)("li",null,Object(g.c)(d.b,{css:E,to:"/"},"home")),Object(g.c)("li",null,Object(g.c)(d.b,{css:E,to:"/tanks"},"my tanks")),Object(g.c)("li",null,Object(g.c)(d.b,{css:E,to:"/me"},"my profile")),Object(g.c)("li",null,Object(g.c)(x,{btnText:"Logout",setIsUserLoggedIn:n,setTokenState:t})))))};function z(){var e=Object(b.a)(["\n  max-width: 1170px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return z=function(){return e},e}var N=Object(g.b)(z()),U=function(e){var n=e.setIsUserLoggedIn,t=e.children,r=e.setTokenState;return Object(g.c)(a.Fragment,null,Object(g.c)(L,{setIsUserLoggedIn:n,setTokenState:r}),Object(g.c)("main",{css:N},t))};function F(){var e=Object(b.a)(["\n  padding: 4rem 4rem;\n  background-color: #ffffff;\n  border-radius: 16px;\n"]);return F=function(){return e},e}var D=Object(g.b)(F()),H=function(e){var n=e.children;return Object(g.c)("section",{css:D},n)};function A(){var e=Object(b.a)(["\n  /* display: block; */\n  font-size: 1.6rem;\n  text-align: left;\n  background-color: #fff;\n  /* padding: 2rem 4rem; */\n  border-collapse: collapse;\n  /* border-radius: 16px; */\n\n  & thead tr {\n    font-weight: 700;\n    color: #7e84cc;\n    border-bottom: 1px solid #b4b8e1;\n  }\n\n  th,\n  td {\n    padding: 1.6rem;\n    /* &:first-of-type {\n      padding: 0.8rem 0.8rem 0.8rem 0;\n    } */\n    &:nth-of-type(2n + 1) {\n      background-color: #f8f8fc;\n    }\n  }\n"]);return A=function(){return e},e}var Y=Object(g.b)(A()),J=function(e){var n=e.testsState;return Object(g.c)("table",{css:Y},Object(g.c)("thead",null,Object(g.c)("tr",null,Object(g.c)("th",null,"Date of test"),Object(g.c)("th",null,"NH3"),Object(g.c)("th",null,"NH4"),Object(g.c)("th",null,"NO3"),Object(g.c)("th",null,"PH"),Object(g.c)("th",null,"temperature (celc)"))),Object(g.c)("tbody",null,n.map((function(e){return Object(g.c)("tr",{key:e._id},Object(g.c)("td",null,e.dateOfTest),Object(g.c)("td",null,e.nh3),Object(g.c)("td",null,e.nh4),Object(g.c)("td",null,e.no3),Object(g.c)("td",null,e.ph),Object(g.c)("td",null,e.tempCelc))}))))},P=t(12),Z=t(20);function q(){var e=Object(b.a)(["\n  position: absolute;\n  left: 0.8rem;\n  top: 50%;\n  font-size: 1.6rem;\n  transform: ",";\n  color: #92a2ae;\n  input:focus + & {\n    transform: translate(-10%, -170%) scale(0.8);\n    color: #5a95e6;\n  }\n  transition: all ease-in 0.3s;\n  pointer-events: none;\n"]);return q=function(){return e},e}function X(){var e=Object(b.a)(["\n  width: 100%;\n  padding: 0.8rem;\n  border: none;\n  border-bottom: 1px solid #92a2ae;\n  outline: none;\n  display: block;\n  &:focus {\n    border-bottom: 1px solid #5a95e6;\n  }\n"]);return X=function(){return e},e}function _(){var e=Object(b.a)(["\n  width: 100%;\n  position: relative;\n  display: block;\n"]);return _=function(){return e},e}var B=Object(g.b)(_()),R=Object(g.b)(X()),V=function(e){var n=e.isValueFilled;return Object(g.b)(q(),n?"translate(-10%, -170%) scale(0.8)":"translate(0, -50%)")},W=function(e){var n=e.id,t=e.type,a=e.name,r=e.labelText,c=e.value,o=e.onChange,s=e.autoFocus,i=c.length>0;return Object(g.c)("div",{className:"input-slider-wrapper",css:B},Object(g.c)("input",{onChange:o,css:R,id:n,type:t,name:a,value:c,autoFocus:s}),Object(g.c)("label",{css:V({isValueFilled:i}),htmlFor:n},r))};function M(){var e=Object(b.a)(["\n  min-width: 18rem;\n  position: relative;\n\n  & > label {\n    position: absolute;\n    left: 0.8rem;\n    top: 50%;\n    font-size: 1.6rem;\n    /* transform: translate(0, -50%); */\n    transform: translate(-16%, -170%) scale(0.8);\n    pointer-events: none;\n    color: #92a2ae;\n  }\n\n  & > input {\n    display: block;\n    width: 100%;\n    height: 100%;\n    border: none;\n    border-bottom: 1px solid #92a2ae;\n    outline: none;\n    display: block;\n  }\n"]);return M=function(){return e},e}var G=Object(g.b)(M()),K=function(e){var n=e.id,t=e.name,a=e.labelText,r=e.value,c=e.onChangeHandler;return Object(g.c)("div",Object(P.a)({className:"input-slider-wrapper--date",css:G},"className","inputWrapper"),Object(g.c)("input",{id:n,type:"date",name:t,onChange:c,value:r}),Object(g.c)("label",{htmlFor:n},a))};function Q(){var e=Object(b.a)(["\n  background-color: #9da7b4;\n  border: none;\n  padding: 0.8rem;\n  border-radius: 2px;\n  cursor: pointer;\n  text-transform: uppercase;\n  color: #ffffff;\n  display: block;\n  width: 100%;\n"]);return Q=function(){return e},e}var $=Object(g.b)(Q()),ee=function(e){var n=e.btnText,t=e.autoFocus;return Object(g.c)("button",{autoFocus:t,css:$},n)},ne=function(e){return j(re,ae,te)(e)},te=function(e){return e?{Authorization:e}:null},ae=function(e){return e?"Bearer ".concat(e):null},re=function(e){var n=null;try{n=e||JSON.parse(document.cookie).token}catch(t){console.log(t)}return n};function ce(){var e=Object(b.a)(["\n  background-color: #fff;\n  /* padding: 2rem 4rem; */\n  /* border-radius: 16px 16px 0 0; */\n  display: flex;\n  margin-bottom: 4rem;\n  & > .inputWrapper {\n    margin-right: 1.6rem;\n  }\n\n  & > .input-slider-wrapper {\n    margin-right: 1.6rem;\n  }\n"]);return ce=function(){return e},e}var oe=Object(g.b)(ce()),se=function(e){var n=e.tokenState,t=e.tankID,r=e.setTestsState,c=e.testsState,o=Object(a.useState)({dateOfTest:"",nh3:"",nh4:"",no3:"",ph:"",tempCelc:""}),s=Object(l.a)(o,2),b=s[0],d=s[1],m=function(){var e=Object(u.a)(i.a.mark((function e(a){var o,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),o=ne(n),e.prev=2,e.next=5,f.a.post("/tests",Object(O.a)(Object(O.a)({},b),{},{tankID:t}),{headers:o});case 5:s=e.sent,u=s.data,r([].concat(Object(Z.a)(c),[u])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),p=function(e){var n="checkbox"===e.target.type?e.target.checked:e.target.value;d(Object(O.a)(Object(O.a)({},b),{},Object(P.a)({},e.target.name,n)))};return Object(g.c)("form",{css:oe,onSubmit:m},Object(g.c)(K,{id:"testDate",name:"dateOfTest",labelText:"date of testing",value:b.dateOfTest,onChangeHandler:p}),Object(g.c)(W,{id:"testNH3",type:"number",name:"nh3",labelText:"NH3",value:b.nh3,onChange:p}),Object(g.c)(W,{id:"testNH4",type:"number",name:"nh4",labelText:"NH4",value:b.nh4,onChange:p}),Object(g.c)(W,{id:"testNO3",type:"number",name:"no3",labelText:"NO3",value:b.no3,onChange:p}),Object(g.c)(W,{id:"testPH",type:"number",name:"ph",labelText:"PH",value:b.ph,onChange:p}),Object(g.c)(W,{id:"tempCelc",type:"number",name:"tempCelc",labelText:"temperature C",value:b.tempCelc,onChange:p}),Object(g.c)(ee,{btnText:"add test"}))},ie=function(e){var n=e.tokenState,t=e.match.params.tankID,c=Object(a.useState)([]),o=Object(l.a)(c,2),s=o[0],b=o[1],d=Object(a.useState)([]),m=Object(l.a)(d,2),p=m[0],g=m[1],O=function(){var e=Object(u.a)(i.a.mark((function e(n,t){var a,r,c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ne(n),e.next=3,f.a.get("/tanks/".concat(t),{headers:a});case 3:r=e.sent,c=r.data,o=c.tank,s=c.tests,console.log(s),b(o),g(s);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O(n,t)}),[n,t]),r.a.createElement(H,null,r.a.createElement("h2",null,s.name),r.a.createElement(se,{tankID:t,tokenState:n,testsState:p,setTestsState:g}),r.a.createElement(J,{testsState:p}))};function ue(){var e=Object(b.a)(["\n  background-color: #fff;\n  padding: 4rem;\n  border-radius: 16px;\n  max-width: 58.5rem;\n  margin-left: auto;\n  margin-right: auto;\n\n  & > .input-slider-wrapper {\n    margin-bottom: 1.6rem;\n  }\n"]);return ue=function(){return e},e}var le=Object(g.b)(ue()),be=function(e){var n=e.setIsUserLoggedIn,t=e.setTokenState,r=Object(a.useState)({email:"",password:"",name:"",surname:"",age:""}),c=Object(l.a)(r,2),o=c[0],s=c[1],i=function(e){var n="checkbox"===e.target.type?e.target.checked:e.target.value;s(Object(O.a)(Object(O.a)({},o),{},Object(P.a)({},e.target.name,n)))};return Object(g.c)("form",{css:le,onSubmit:function(e){e.preventDefault(),f.a.post("/users",o).then((function(e){var a=e.data.token;n(!0),t(a),h({token:a})}))}},Object(g.c)(W,{id:"registerEmail",type:"email",name:"email",labelText:"Your email",value:o.email,onChange:i}),Object(g.c)(W,{id:"registerPassword",type:"password",name:"password",labelText:"Password",value:o.password,onChange:i}),Object(g.c)(W,{id:"registerName",type:"text",name:"name",labelText:"Your name",value:o.name,onChange:i}),Object(g.c)(W,{id:"registerSurname",type:"text",name:"surname",labelText:"Your surname",value:o.surname,onChange:i}),Object(g.c)(W,{id:"registerAge",type:"number",name:"age",labelText:"Your age",value:o.age,onChange:i}),Object(g.c)(ee,{btnText:"register"}))},de=function(e){var n=e.setTokenState,t=e.setIsUserLoggedIn,r=function(e){var n=e.target,t=n.value,a=n.name;i(Object(O.a)(Object(O.a)({},s),{},Object(P.a)({},a,t)))},c=Object(a.useState)({email:"",password:""}),o=Object(l.a)(c,2),s=o[0],i=o[1];return Object(g.c)("form",{css:le,onSubmit:function(e){e.preventDefault(),f.a.post("/users/login",s).then((function(e){var a=e.data.token;n(a),t(!0),h({token:a})}))}},Object(g.c)(W,{id:"loginEmail",type:"email",name:"email",labelText:"Your email",value:s.email,onChange:r,autoFocus:!0}),Object(g.c)(W,{id:"loginPassword",type:"password",name:"password",labelText:"Password",value:s.password,onChange:r}),Object(g.c)(ee,{btnText:"login"}))},me=function(e){var n=e.setIsUserLoggedIn,t=e.setTokenState;return e.isUserLoggedIn?r.a.createElement(m.a,{to:"/tanks"}):r.a.createElement(a.Fragment,null,r.a.createElement(de,{setIsUserLoggedIn:n,setTokenState:t}),r.a.createElement(be,{setIsUserLoggedIn:n,setTokenState:t}))},pe=function(e){var n=e.tokenState,t=e.setTanksListingState,r=e.tanksListingState,c=function(e){var n=e.target,t=n.value,a=n.name;u(Object(O.a)(Object(O.a)({},i),{},Object(P.a)({},a,t)))},o=Object(a.useState)({name:"",sizeX:"",sizeY:"",sizeZ:"",aquariumType:""}),s=Object(l.a)(o,2),i=s[0],u=s[1];return Object(g.c)("form",{css:oe,onSubmit:function(e){e.preventDefault();var a=ne(n);f.a.post("/tanks",i,{headers:a}).then((function(e){t([].concat(Object(Z.a)(r),[e.data]))})).catch((function(e){console.log(e)}))}},Object(g.c)(W,{id:"tankName",type:"text",name:"name",labelText:"tank name",value:i.name,onChange:c}),Object(g.c)(W,{id:"TankSizeX",type:"number",name:"sizeX",labelText:"tank size on X axis",value:i.sizeX,onChange:c}),Object(g.c)(W,{id:"TankSizeY",type:"number",name:"sizeY",labelText:"tank size on Y axis",value:i.sizeY,onChange:c}),Object(g.c)(W,{id:"TankSizeZ",type:"number",name:"sizeZ",labelText:"tank size on Z axis",value:i.sizeZ,onChange:c}),Object(g.c)(W,{id:"tankAquariumType",type:"text",name:"aquariumType",labelText:"aquarium type",value:i.sizeZ,onChange:c}),Object(g.c)(ee,{btnText:"Add tank"}))};function fe(){var e=Object(b.a)(["\n  text-decoration: none;\n  padding: 2rem 4rem;\n  display: block;\n"]);return fe=function(){return e},e}function ge(){var e=Object(b.a)(["\n  background-color: #fff;\n  border-radius: 16px;\n  list-style: none;\n  box-shadow: -1px 1px 21px 10px rgba(240, 243, 248, 1);\n  margin-bottom: 2rem;\n  & .card-header {\n    color: #7e84cc;\n  }\n"]);return ge=function(){return e},e}var Oe=Object(g.b)(ge()),je=Object(g.b)(fe()),he=function(e){var n=e.tankData;return Object(g.c)("li",{className:"tank-card",css:Oe},Object(g.c)(d.b,{css:je,to:"/tanks/".concat(n._id)},Object(g.c)("h3",{className:"card-header"},n.name)))};function ve(){var e=Object(b.a)(["\n  /* padding: 2rem 4rem; */\n  /* background-color: #fff; */\n  /* border-radius: 0 0 16px 16px; */\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  & > .tank-card {\n    flex-basis: calc(50% - 2rem);\n  }\n\n  @media screen and (max-width: 768px) {\n    display: block;\n  }\n"]);return ve=function(){return e},e}var ke=Object(g.b)(ve()),xe=function(e){var n=e.tanksListingState;return Object(g.c)("ul",{css:ke},n.map((function(e){return Object(g.c)(he,{key:e._id,tankData:e})})))},ye=function(e){var n=e.isUserLoggedIn,t=e.tokenState,c=Object(a.useState)([]),o=Object(l.a)(c,2),s=o[0],b=o[1],d=function(){var e=Object(u.a)(i.a.mark((function e(n){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ne(n),e.prev=1,e.next=4,f.a.get("/tanks",{headers:t});case 4:a=e.sent,r=a.data,b(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n&&d()}),[n,t]),n?r.a.createElement(a.Fragment,null,r.a.createElement(H,null,r.a.createElement(pe,{tokenState:t,setTanksListingState:b,tanksListingState:s}),r.a.createElement(xe,{tanksListingState:s}))):r.a.createElement(m.a,{to:"/"})},Se=function(e){var n=e.userAccountInfo,t=e.isUserLoggedIn;if(console.log("profile ingfo is:",n),t){var c=n.name,o=n.email,s=n.surname,i=n.age,u=n.date;return r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Hello ",c),r.a.createElement("p",null,"Email: ",o," "),r.a.createElement("p",null,"Name and surname: ",c," ",s),r.a.createElement("p",null,"age: ",i),r.a.createElement("p",null,"account created date: ",u," "))}return r.a.createElement(m.a,{to:"/"})},Te=function(){return r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"About alpha tank"),r.a.createElement("article",null,r.a.createElement("p",null,"Alpha tanks is a application created in order to help aquarium owners manage their water test results."),r.a.createElement("p",null,"Current app version: pre-alpha")))};function we(){var e=Object(b.a)(['\n  @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n  html {\n    font-size: 10px;\n  }\n  body {\n    font-family: "Roboto", sans-serif;\n    font-size: 16px;\n    background-color: #f0f3f8;\n    margin: 0;\n    padding: 0;\n  }\n  ul,\n  li,\n  ol {\n    margin: 0;\n    padding-inline-start: 0;\n  }\n']);return we=function(){return e},e}var Ie=Object(g.b)(we());var Ee=function(){var e=Object(a.useState)(null),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)({}),o=Object(l.a)(c,2),s=o[0],b=o[1],p=Object(a.useState)(!1),O=Object(l.a)(p,2),h=O[0],v=O[1],k=function(){var e=Object(u.a)(i.a.mark((function e(n,t){var a,c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=re(t),n||!a){e.next=16;break}return c=j(ae,te)(a),e.prev=3,e.next=6,f.a.get("/users/me",{headers:c});case 6:o=e.sent,s=o.data,r(a),v(!0),b(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){k(h,t)}),[h]),Object(g.c)("div",{className:"App"},Object(g.c)(g.a,{styles:Ie}),Object(g.c)(d.a,null,Object(g.c)(U,{setIsUserLoggedIn:v,setTokenState:r},Object(g.c)(m.b,{path:"/",exact:!0,render:function(){return Object(g.c)(me,{isUserLoggedIn:h,setIsUserLoggedIn:v,tokenState:t,setTokenState:r})}}),Object(g.c)(m.b,{path:"/tanks",exact:!0,render:function(){return Object(g.c)(ye,{isUserLoggedIn:h,tokenState:t})}}),Object(g.c)(m.b,{path:"/tanks/:tankID",exact:!0,component:ie,tokenState:t}),Object(g.c)(m.b,{path:"/me",exec:!0,render:function(){return Object(g.c)(Se,{userAccountInfo:s,isUserLoggedIn:h,setIsUserLoggedIn:v})}}),Object(g.c)(m.b,{path:"/about",exec:!0,component:Te}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.5f54ca5e.chunk.js.map