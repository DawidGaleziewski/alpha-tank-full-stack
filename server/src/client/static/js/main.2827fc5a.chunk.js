(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,n){e.exports=n(65)},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),o=n.n(c),s=n(12),u=n.n(s),l=n(15),i=n(6),b=n(2),m=n(11),d=n(3),p=n(7),f=n.n(p),g=n(1),O=n(5),j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},h=function(e){var t={};try{t=document.cookie.length>0?Object(O.a)(Object(O.a)({},JSON.parse(document.cookie)),e):Object(O.a)({},e),document.cookie=JSON.stringify(t)}catch(n){console.log("Error setting cookies")}return t};function v(){var e=Object(b.a)(["\n  background-color: rgba(0, 0, 0, 0);\n  border: 1px solid #7e84cc;\n  padding: 0.8rem 4rem;\n  border-radius: 16px;\n  color: #7e84cc;\n  cursor: pointer;\n  margin-left: auto;\n  font-size: 1.2rem;\n"]);return v=function(){return e},e}var k=Object(g.b)(v()),x=function(e){var t=e.btnText,n=e.setIsUserLoggedIn,a=e.setTokenState;return Object(g.c)("button",{className:"logout-button",css:k,onClick:function(){!function(e){var t=JSON.parse(document.cookie);delete t[e],console.log(t),document.cookie=JSON.stringify(t)}("token"),n(!1),a(null)}},t)};function y(){var e=Object(b.a)(["\n  font-weight: 700;\n  color: #7e84cc;\n  text-decoration: none;\n  padding: 2rem;\n  padding-bottom: 1.5rem;\n  display: block;\n  border-bottom: 5px solid #fff;\n  transition: all ease-in 0.3s;\n  &:hover {\n    border-bottom-color: #b0b3df;\n  }\n"]);return y=function(){return e},e}function E(){var e=Object(b.a)(["\n  background-color: #fff;\n  max-width: 1170px;\n  margin-left: auto;\n  margin-right: auto;\n  /* padding: 2rem; */\n  border-radius: 16px;\n  padding: 0 2rem;\n\n  & > ul {\n    list-style: none;\n    display: flex;\n    & > li:last-of-type {\n      margin-left: auto;\n    }\n  }\n\n  & .logout-button {\n    margin-top: 1.3rem;\n  }\n"]);return E=function(){return e},e}function S(){var e=Object(b.a)(["\n  margin-top: 4rem;\n  margin-bottom: 4rem;\n"]);return S=function(){return e},e}var T=Object(g.b)(S()),w=Object(g.b)(E()),I=Object(g.b)(y()),L=function(e){var t=e.setIsUserLoggedIn,n=e.setTokenState;return Object(g.c)("header",{css:T},Object(g.c)("nav",{css:w},Object(g.c)("ul",null,Object(g.c)("li",null,Object(g.c)(m.b,{css:I,to:"/"},"home")),Object(g.c)("li",null,Object(g.c)(m.b,{css:I,to:"/tanks"},"my tanks")),Object(g.c)("li",null,Object(g.c)(m.b,{css:I,to:"/me"},"my profile")),Object(g.c)("li",null,Object(g.c)(x,{btnText:"Logout",setIsUserLoggedIn:t,setTokenState:n})))))};function C(){var e=Object(b.a)(["\n  max-width: 1170px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return C=function(){return e},e}var z=Object(g.b)(C()),U=function(e){var t=e.setIsUserLoggedIn,n=e.children,r=e.setTokenState;return Object(g.c)(a.Fragment,null,Object(g.c)(L,{setIsUserLoggedIn:t,setTokenState:r}),Object(g.c)("main",{css:z},n))},N=function(e){var t=e.testsState;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date of test"),r.a.createElement("th",null,"NH3"),r.a.createElement("th",null,"NH4"),r.a.createElement("th",null,"NO3"),r.a.createElement("th",null,"PH"),r.a.createElement("th",null,"temperature (celc)"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.dateOfTest),r.a.createElement("td",null,e.nh3),r.a.createElement("td",null,e.nh4),r.a.createElement("td",null,e.no3),r.a.createElement("td",null,e.ph),r.a.createElement("td",null,e.tempCelc))}))))},D=n(14),A=n(20),Y=function(e){return j(Z,J,F)(e)},F=function(e){return e?{Authorization:e}:null},J=function(e){return e?"Bearer ".concat(e):null},Z=function(e){var t=null;try{t=e||JSON.parse(document.cookie).token}catch(n){console.log(n)}return t},q=function(e){var t=e.tokenState,n=e.tankID,c=e.setTestsState,o=e.testsState,s=Object(a.useState)({dateOfTest:"",nh3:"",nh4:"",no3:"",ph:"",tempCelc:""}),b=Object(i.a)(s,2),m=b[0],d=b[1],p=function(){var e=Object(l.a)(u.a.mark((function e(a){var r,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=Y(t),e.prev=2,e.next=5,f.a.post("/tests",Object(O.a)(Object(O.a)({},m),{},{tankID:n}),{headers:r});case 5:s=e.sent,l=s.data,c([].concat(Object(A.a)(o),[l])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;d(Object(O.a)(Object(O.a)({},m),{},Object(D.a)({},e.target.name,t)))};return r.a.createElement("form",{onSubmit:p},r.a.createElement("input",{type:"date",name:"dateOfTest",onChange:g}),r.a.createElement("input",{type:"number",name:"nh3",onChange:g}),r.a.createElement("input",{type:"number",name:"nh4",onChange:g}),r.a.createElement("input",{type:"number",name:"no3",onChange:g}),r.a.createElement("input",{type:"number",name:"ph",onChange:g}),r.a.createElement("input",{type:"number",name:"tempCelc",onChange:g}),r.a.createElement("input",{type:"submit",value:"add test"}))},P=function(e){var t=e.tokenState,n=e.match.params.tankID,c=Object(a.useState)([]),o=Object(i.a)(c,2),s=o[0],b=o[1],m=Object(a.useState)([]),d=Object(i.a)(m,2),p=d[0],g=d[1],O=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Y(t),e.next=3,f.a.get("/tanks/".concat(n),{headers:a});case 3:r=e.sent,c=r.data,o=c.tank,s=c.tests,console.log(s),b(o),g(s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O(t,n)}),[t,n]),r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,s.name),r.a.createElement(q,{tankID:n,tokenState:t,testsState:p,setTestsState:g}),r.a.createElement(N,{testsState:p}))};function X(){var e=Object(b.a)(["\n    position: absolute;\n    left: 0.8rem;\n    top: 50%;\n    font-size: 1.6rem;\n    color: #92a2ae;\n    transform: translate(-10%, -170%) scale(0.8);\n\n    input:placeholder-shown + & {\n      transform: translate(0, -50%);\n    }\n    transition: all ease-in 0.3s;\n    pointer-events: none;\n  "]);return X=function(){return e},e}function H(){var e=Object(b.a)(["\n  width: 100%;\n  padding: 0.8rem;\n  border: none;\n  border-bottom: 1px solid #92a2ae;\n  outline: none;\n  display: block;\n  &:focus {\n    border-bottom: 1px solid #5a95e6;\n  }\n"]);return H=function(){return e},e}function _(){var e=Object(b.a)(["\n  width: 100%;\n  position: relative;\n  display: block;\n"]);return _=function(){return e},e}var B=Object(g.b)(_()),R=Object(g.b)(H()),M=function(e){var t=e.id,n=e.type,a=e.name,r=e.labelText,c=e.value,o=e.onChange,s=Object(g.b)(X());return Object(g.c)("div",{className:"input-slider-wrapper",css:B},Object(g.c)("input",{onChange:o,css:R,id:t,type:n,name:a,value:c,placeholder:" "}),Object(g.c)("label",{css:s,htmlFor:t},r))};function G(){var e=Object(b.a)(["\n  background-color: #9da7b4;\n  border: none;\n  padding: 0.8rem;\n  border-radius: 2px;\n  cursor: pointer;\n  text-transform: uppercase;\n  color: #ffffff;\n  display: block;\n  width: 100%;\n"]);return G=function(){return e},e}var K=Object(g.b)(G()),Q=function(e){var t=e.btnText;return Object(g.c)("button",{css:K},t)};function V(){var e=Object(b.a)(["\n  background-color: #fff;\n  padding: 4rem;\n  border-radius: 16px;\n  max-width: 58.5rem;\n  margin-left: auto;\n  margin-right: auto;\n\n  & > .input-slider-wrapper {\n    margin-bottom: 1.6rem;\n  }\n"]);return V=function(){return e},e}var W=Object(g.b)(V()),$=function(e){var t=e.setIsUserLoggedIn,n=e.setTokenState,r=Object(a.useState)({email:"",password:"",name:"",surname:"",age:""}),c=Object(i.a)(r,2),o=c[0],s=c[1],u=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;s(Object(O.a)(Object(O.a)({},o),{},Object(D.a)({},e.target.name,t)))};return Object(g.c)("form",{css:W,onSubmit:function(e){e.preventDefault(),f.a.post("/users",o).then((function(e){var a=e.data.token;t(!0),n(a),h({token:a})}))}},Object(g.c)(M,{id:"registerEmail",type:"email",name:"email",labelText:"Your email",value:o.email,onChange:u}),Object(g.c)(M,{id:"registerPassword",type:"password",name:"password",labelText:"Password",value:o.password,onChange:u}),Object(g.c)(M,{id:"registerName",type:"text",name:"name",labelText:"Your name",value:o.name,onChange:u}),Object(g.c)(M,{id:"registerSurname",type:"text",name:"surname",labelText:"Your surname",value:o.surname,onChange:u}),Object(g.c)(M,{id:"registerAge",type:"number",name:"age",labelText:"Your age",value:o.age,onChange:u}),Object(g.c)(Q,{btnText:"register"}))},ee=function(e){var t=e.setTokenState,n=e.setIsUserLoggedIn,r=function(e){var t=e.target,n=t.value,a=t.name;u(Object(O.a)(Object(O.a)({},s),{},Object(D.a)({},a,n)))},c=Object(a.useState)({email:"",password:""}),o=Object(i.a)(c,2),s=o[0],u=o[1];return Object(g.c)("form",{css:W,onSubmit:function(e){e.preventDefault(),f.a.post("/users/login",s).then((function(e){var a=e.data.token;t(a),n(!0),h({token:a})}))}},Object(g.c)(M,{id:"loginEmail",type:"email",name:"email",labelText:"Your email",value:s.email,onChange:r}),Object(g.c)(M,{id:"loginPassword",type:"password",name:"password",labelText:"Password",value:s.password,onChange:r}),Object(g.c)(Q,{btnText:"login"}))},te=function(e){var t=e.setIsUserLoggedIn,n=e.setTokenState;return e.isUserLoggedIn?r.a.createElement(d.a,{to:"/tanks"}):r.a.createElement(a.Fragment,null,r.a.createElement(ee,{setIsUserLoggedIn:t,setTokenState:n}),r.a.createElement($,{setIsUserLoggedIn:t,setTokenState:n}))};function ne(){var e=Object(b.a)(["\n  background-color: #fff;\n  padding: 2rem 4rem;\n  border-radius: 16px;\n  display: flex;\n  margin-bottom: 4rem;\n  & > .input-slider-wrapper {\n    margin-right: 1.6rem;\n  }\n"]);return ne=function(){return e},e}var ae=Object(g.b)(ne()),re=function(e){var t=e.tokenState,n=e.setTanksListingState,r=e.tanksListingState,c=function(e){var t=e.target,n=t.value,a=t.name;l(Object(O.a)(Object(O.a)({},u),{},Object(D.a)({},a,n)))},o=Object(a.useState)({name:"",sizeX:"",sizeY:"",sizeZ:"",aquariumType:""}),s=Object(i.a)(o,2),u=s[0],l=s[1];return Object(g.c)("form",{css:ae,onSubmit:function(e){e.preventDefault();var a=Y(t);f.a.post("/tanks",u,{headers:a}).then((function(e){n([].concat(Object(A.a)(r),[e.data]))})).catch((function(e){console.log(e)}))}},Object(g.c)(M,{id:"tankName",type:"text",name:"name",labelText:"tank name",value:u.name,onChange:c}),Object(g.c)(M,{id:"TankSizeX",type:"number",name:"sizeX",labelText:"tank size on X axis",value:u.sizeX,onChange:c}),Object(g.c)(M,{id:"TankSizeY",type:"number",name:"sizeY",labelText:"tank size on Y axis",value:u.sizeY,onChange:c}),Object(g.c)(M,{id:"TankSizeZ",type:"number",name:"sizeZ",labelText:"tank size on Z axis",value:u.sizeZ,onChange:c}),Object(g.c)(M,{id:"tankAquariumType",type:"text",name:"aquariumType",labelText:"aquarium type",value:u.sizeZ,onChange:c}),Object(g.c)(Q,{btnText:"Add tank"}))};function ce(){var e=Object(b.a)(["\n  text-decoration: none;\n  padding: 2rem 4rem;\n  display: block;\n"]);return ce=function(){return e},e}function oe(){var e=Object(b.a)(["\n  background-color: #fff;\n  border-radius: 16px;\n  list-style: none;\n  box-shadow: -1px 1px 21px 10px rgba(240, 243, 248, 1);\n  margin-bottom: 2rem;\n  & .card-header {\n    color: #7e84cc;\n  }\n"]);return oe=function(){return e},e}var se=Object(g.b)(oe()),ue=Object(g.b)(ce()),le=function(e){var t=e.tankData;return Object(g.c)("li",{className:"tank-card",css:se},Object(g.c)(m.b,{css:ue,to:"/tanks/".concat(t._id)},Object(g.c)("h3",{className:"card-header"},t.name)))};function ie(){var e=Object(b.a)(["\n  padding: 2rem 4rem;\n  background-color: #fff;\n  border-radius: 16px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  & > .tank-card {\n    flex-basis: calc(50% - 2rem);\n  }\n"]);return ie=function(){return e},e}var be=Object(g.b)(ie()),me=function(e){var t=e.tanksListingState;return Object(g.c)("ul",{css:be},t.map((function(e){return Object(g.c)(le,{key:e._id,tankData:e})})))},de=function(e){var t=e.isUserLoggedIn,n=e.tokenState,c=Object(a.useState)([]),o=Object(i.a)(c,2),s=o[0],b=o[1],m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y(t),e.prev=1,e.next=4,f.a.get("/tanks",{headers:n});case 4:a=e.sent,r=a.data,b(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t&&m()}),[t,n]),t?r.a.createElement(a.Fragment,null,r.a.createElement(re,{tokenState:n,setTanksListingState:b,tanksListingState:s}),r.a.createElement(me,{tanksListingState:s})):r.a.createElement(d.a,{to:"/"})},pe=function(e){var t=e.userAccountInfo,n=e.isUserLoggedIn;if(console.log("profile ingfo is:",t),n){var c=t.name,o=t.email,s=t.surname,u=t.age,l=t.date;return r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Hello ",c),r.a.createElement("p",null,"Email: ",o," "),r.a.createElement("p",null,"Name and surname: ",c," ",s),r.a.createElement("p",null,"age: ",u),r.a.createElement("p",null,"account created date: ",l," "))}return r.a.createElement(d.a,{to:"/"})},fe=function(){return r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"About alpha tank"),r.a.createElement("article",null,r.a.createElement("p",null,"Alpha tanks is a application created in order to help aquarium owners manage their water test results."),r.a.createElement("p",null,"Current app version: pre-alpha")))};function ge(){var e=Object(b.a)(['\n  @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n  html {\n    font-size: 10px;\n  }\n  body {\n    font-family: "Roboto", sans-serif;\n    font-size: 16px;\n    background-color: #f0f3f8;\n    margin: 0;\n    padding: 0;\n  }\n  ul,\n  li,\n  ol {\n    margin: 0;\n    padding-inline-start: 0;\n  }\n']);return ge=function(){return e},e}var Oe=Object(g.b)(ge());var je=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),o=Object(i.a)(c,2),s=o[0],b=o[1],p=Object(a.useState)(!1),O=Object(i.a)(p,2),h=O[0],v=O[1],k=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Z(n),t||!a){e.next=16;break}return c=j(J,F)(a),e.prev=3,e.next=6,f.a.get("/users/me",{headers:c});case 6:o=e.sent,s=o.data,r(a),v(!0),b(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){k(h,n)}),[h]),Object(g.c)("div",{className:"App"},Object(g.c)(g.a,{styles:Oe}),Object(g.c)(m.a,null,Object(g.c)(U,{setIsUserLoggedIn:v,setTokenState:r},Object(g.c)(d.b,{path:"/",exact:!0,render:function(){return Object(g.c)(te,{isUserLoggedIn:h,setIsUserLoggedIn:v,tokenState:n,setTokenState:r})}}),Object(g.c)(d.b,{path:"/tanks",exact:!0,render:function(){return Object(g.c)(de,{isUserLoggedIn:h,tokenState:n})}}),Object(g.c)(d.b,{path:"/tanks/:tankID",exact:!0,component:P,tokenState:n}),Object(g.c)(d.b,{path:"/me",exec:!0,render:function(){return Object(g.c)(pe,{userAccountInfo:s,isUserLoggedIn:h,setIsUserLoggedIn:v})}}),Object(g.c)(d.b,{path:"/about",exec:!0,component:fe}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.2827fc5a.chunk.js.map